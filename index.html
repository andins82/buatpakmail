<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Selamat Hari Guru Pak Mail</title>

<style>
@import url('https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap');

*{box-sizing:border-box}

body {
    margin:0;
    font-family: 'Press Start 2P', cursive;
    background: #87CEEB;
    overflow:hidden;
}

.page {
    display:none;
    width:100vw;
    height:100vh;
    position:relative;
    justify-content:center;
    align-items:center;
    flex-direction:column;
}

.active{display:flex}

/* === PIXEL BACKGROUND === */
.sky{
    position:absolute;
    inset:0;
    background:linear-gradient(#87CEEB,#ccf3ff);
    z-index:-5;
}

.cloud{
    position:absolute;
    font-size:40px;
    animation:cloud 60s linear infinite;
}
@keyframes cloud{
    from{left:-200px;}
    to{left:110%;}
}

.ground{
    position:absolute;
    bottom:0;
    width:100%;
    height:35%;
    background:#4CAF50;
}

.school{
    position:absolute;
    bottom:35%;
    left:50%;
    transform:translateX(-50%);
    width:160px;
    height:120px;
    background:#c0392b;
    border:5px solid #333;
}

.tree{position:absolute;bottom:35%;font-size:50px;}
.flower{position:absolute;bottom:35%;font-size:28px;}

/* === START PAGE === */
h1{
    font-size:16px;
    background:#333;
    color:white;
    padding:20px;
    border:4px solid white;
    text-align:center;
}

button{
    margin-top:20px;
    padding:12px 25px;
    font-family:inherit;
    cursor:pointer;
    border:3px solid black;
}

/* === MENU === */
.menu-btn{
    width:90px;
    height:90px;
    border-radius:50%;
    background:#333;
    color:white;
    border:4px solid white;
    margin:15px;
    font-size:40px;
    display:flex;
    justify-content:center;
    align-items:center;
    cursor:pointer;
}

/* === OVERLAY === */
.overlay{
    display:none;
    position:fixed;
    inset:0;
    background:rgba(0,0,0,0.6);
    justify-content:center;
    align-items:center;
    z-index:10;
}

.overlay.active{display:flex;}

.close{
    position:absolute;
    top:15px;
    right:20px;
    font-size:18px;
    cursor:pointer;
    color:white;
}

/* === KTP === */
.ktp{
    background:#faf3dd;
    padding:18px;
    width:90%;
    max-width:400px;
    border:6px solid #333;
    position:relative;
    font-size:9px;
}

.ktp img{
    width:80px;
    height:100px;
    object-fit:cover;
    border:3px solid black;
}

/* === SURAT === */
.letter{
    background:#fff;
    padding:15px;
    width:90%;
    max-width:430px;
    border:6px solid #333;
    font-size:8px;
    line-height:1.6;
    height:70vh;
    overflow-y:auto;
}

/* === GAME === */
#gameBox{
    width:90%;
    max-width:380px;
    height:300px;
    border:5px solid black;
    background:white;
    position:relative;
    overflow:hidden;
    margin-top:10px;
}

.kapi{
    position:absolute;
    font-size:22px;
    cursor:pointer;
}
</style>
</head>

<body>

<audio id="bgm" src="musik.mp3" loop></audio>
<audio id="yummy" src="https://cdn.pixabay.com/audio/2021/08/04/audio_8c84edb2bf.mp3"></audio>

<div class="sky"></div>
<div class="cloud" style="top:15%;animation-duration:50s;">‚òÅÔ∏è</div>
<div class="cloud" style="top:40%;animation-duration:70s;">‚òÅÔ∏è</div>
<div class="ground"></div>
<div class="school"></div>
<div class="tree" style="left:10%">üå≥</div>
<div class="tree" style="right:10%">üå≤</div>
<div class="flower" style="left:30%">üåº</div>
<div class="flower" style="left:70%">üåª</div>

<!-- START -->
<div id="startPage" class="page active">
    <h1>SELAMAT HARI GURU<br>PAK MAIL</h1>
    <button onclick="goMenu()">START</button>
</div>

<!-- MENU -->
<div id="menuPage" class="page">
    <div class="menu-btn" onclick="showKtp()">ü™™</div>
    <div class="menu-btn" onclick="showLetter()">‚úâÔ∏è</div>
    <div class="menu-btn" onclick="showGame()">üéÆ</div>
</div>

<!-- KTP -->
<div id="ktp" class="overlay">
    <div class="ktp">
        <div class="close" onclick="closeAll()">‚ùå</div>
        <h3>Kartu Identitas</h3>
        <img src="pakmail.jpg">
        <p>Nama : Pak Mail</p>
        <p>Alamat : Banyumas Solo</p>
        <p>Agama : Islam sejati</p>
        <p>Pekerjaan : Guru keren</p>
        <p>Kewarganegaraan : Solopride</p>
        <p>Hobi : Bakwan, Foto, Ngajar</p>
    </div>
</div>

<!-- SURAT -->
<div id="surat" class="overlay">
    <div class="letter">
        <div class="close" onclick="closeAll()">‚ùå</div>
        <div id="typedText"></div>
    </div>
</div>

<!-- GAME -->
<div id="game" class="overlay">
    <div style="text-align:center;">
        <div class="close" onclick="closeAll()">‚ùå</div>

        <button onclick="mulaiGame()">MULAI</button>
        <p>Tangkap Kapibaranya!</p>

        <div id="gameBox"></div>

        <div id="resetBtn" style="display:none">
            <button onclick="mulaiGame()">MULAI ULANG</button>
        </div>
    </div>
</div>

<script>
const startPage = document.getElementById("startPage")
const menuPage = document.getElementById("menuPage")
const bgm = document.getElementById("bgm")
const yummy = document.getElementById("yummy")
const ktp = document.getElementById("ktp")
const surat = document.getElementById("surat")
const game = document.getElementById("game")
const typedText = document.getElementById("typedText")
const gameBox = document.getElementById("gameBox")
const resetBtn = document.getElementById("resetBtn")

function goMenu(){
    startPage.classList.remove("active")
    menuPage.classList.add("active")
    bgm.volume = 0.4
    bgm.play()
}

/* === MENU === */
function showKtp(){ ktp.classList.add("active") }

function showLetter(){
    surat.classList.add("active")
    typedText.innerHTML = ""

    const txt = `Selamat hari guru Pak Ismail...
Terima kasih untuk semuanya...
Semoga sehat selalu dan tetap keren... - Selma`

    let i=0
    const typing = setInterval(()=>{
        typedText.innerHTML += txt.charAt(i)
        i++
        if(i >= txt.length) clearInterval(typing)
    },40)
}

function showGame(){ game.classList.add('active') }

function closeAll(){
    ktp.classList.remove("active")
    surat.classList.remove("active")
    game.classList.remove("active")
}

/* === GAME SYSTEM FIX === */
function mulaiGame(){
    gameBox.innerHTML = ""
    resetBtn.style.display="none"

    const texts = [
        "Semangat Pak Mail",
        "Sehat selalu",
        "Pak Mail keren",
        "Tutor jago",
        "Bahagia",
        "Kapibara sehat",
        "Terima kasih",
        "Super hero",
        "Inspiratif",
        "Legend"
    ]

    let changed = 0

    for(let i=0;i<10;i++){

        let k = document.createElement("div")
        k.className="kapi"
        k.innerText="ü¶´"
        k.style.left = Math.random()*300+"px"
        k.style.top = Math.random()*250+"px"

        k.onclick = ()=>{
            if(k.innerText==="ü¶´"){
                k.innerText = texts[i]
                yummy.currentTime=0
                yummy.play()
                changed++

                if(changed === 10){
                    resetBtn.style.display="block"
                }
            }
        }

        setInterval(()=>{
            k.style.left = Math.random()*320+"px"
            k.style.top = Math.random()*260+"px"
        },2000)

        gameBox.appendChild(k)
    }
}
</script>
</body>
</html>

